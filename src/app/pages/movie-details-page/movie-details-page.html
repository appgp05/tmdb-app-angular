<main class="flex flex-col gap-5">
    <app-return-component pageName="Details" />
    
    @if (movie()) {
        <section class="flex flex-row gap-2">
            <img 
                [src]="'https://image.tmdb.org/t/p/w500' + movie()!.poster_path" 
                class="h-45 aspect-3/4 rounded-md"
                alt="{{ movie()!.title }} poster"
            >
            <div class="flex flex-col justify-between p-2">
                <div>
                    <h1 class="font-bold text-xl">{{ movie()!.title }}</h1>
                    <p class="font-medium">{{ movie()!.release_date | date:'yyyy' }} · {{ movie()!.director }}</p>
                </div>
                <div class="flex flex-row gap-2 items-center">
                    <button class="rounded-sm">
                        <a href="{{ movie()!.trailer }}" target="_blank" class="px-2 w-full h-full text-lg">Trailer</a>
                    </button>
                    <p>{{ movie()!.runtime }} mins</p>
                </div>
            </div>
        </section>
        
        <section>
            <button
                class="w-full rounded-lg py-3 flex flex-row gap-2 items-center justify-center"
                (click)="onMovieClick(movie())">
                <p class="font-bold">
                    {{ isFavorite(movie()) ? 'Remove Movie' : 'Add Movie' }}
                </p>
                <ng-icon [name]="isFavorite(movie()) ? 'phosphorXBold' : 'phosphorPlusBold'" />
            </button>
        </section>
        
        <section>
            <h2 class="font-bold text-lg">Overview</h2>
            <p class="text-justify">{{ movie()!.overview }}</p>
        </section>
    } @else {
        <div class="flex justify-center items-center py-8">
            <p>Cargando detalles de la película...</p>
        </div>
    }
</main>