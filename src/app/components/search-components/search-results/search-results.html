@if (filteredResults().length > 0) {
  <div class="flex flex-col items-start"> 
    <ul class="flex flex-col gap-7">
      @for (movie of filteredResults(); track movie.id) {
        <li 
          class="cursor-pointer"
          (click)="onMovieSelect(movie.id)"
        >
          <img 
            [src]="'https://image.tmdb.org/t/p/w500' + movie.backdrop_path" 
            class="w-full object-cover grayscale-100 hover:grayscale-0 transition-all duration-300"
            [alt]="movie.title"
          >
          <div class="flex flex-row justify-between">
            <h1 class="font-black text-2xl w-3/4" > {{movie.title}} </h1>
            <p class="font-light text-sm"> {{ movie.release_date ? (movie.release_date | date: 'yyyy') : '....' }} </p>
          </div>
        </li>
      }
    </ul>
  </div>
}

<!-- Loading -->
@if (isLoading()) {
  <div class="flex justify-center items-center py-12">
    <div class="animate-spin rounded-lg size-10 loading-color"></div>
  </div>
}

<!-- Error -->
@if (error()) {
  <div class="bg-red-200 text-red-700 px-4 py-3 rounded">
    <strong>Error:</strong> {{ error() }}
    <button (click)="onClearSearch()" class="ml-2 text-sm underline">Try again</button>
  </div>
}