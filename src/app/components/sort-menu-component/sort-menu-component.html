<!-- sort-menu.component.html -->
<div class="relative">
  <button
    class="flex flex-row gap-2 items-center px-4 py-2 h-7 text-sm rounded-md"
    (click)="toggleMenu()"
  >
    <p>Sort</p>
    <ng-icon name="phosphorFunnelSimple" />
  </button>

  @if (isOpen) {
    <div 
      class="absolute top-full left-0 mt-1 w-64 z-10 rounded-md overflow-hidden"
      (click)="$event.stopPropagation()"
    >
      <div>
        @for (option of sortOptions; track option.option) {
          <button
            class="w-full px-4 py-2 text-left text-sm hover:font-bold transition-all flex flex-row justify-between items-center"
            (click)="selectSort(option.option)"
          >
            <span>{{ option.label }}</span>
            @if (currentSort() === option.option) {
              <ng-icon name="phosphorCheck" />
            }
          </button>
        }
      </div>
    </div>
  }
</div>

<!-- Overlay para cerrar el menÃº -->
@if (isOpen) {
  <div 
    class="fixed inset-0 z-0" 
    (click)="closeMenu()"
  ></div>
}