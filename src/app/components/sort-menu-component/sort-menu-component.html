<!-- sort-menu.component.html -->
<div class="relative">
  <button
    class="flex flex-row gap-2 items-center px-4 py-2 rounded-sm border border-gray-600 bg-gray-800 hover:bg-gray-700 transition-colors"
    (click)="toggleMenu()"
  >
    <span class="text-sm">{{ getCurrentSortLabel() }}</span>
    <ng-icon name="phosphorCaretDown" class="text-xs" />
  </button>

  @if (isOpen) {
    <div 
      class="absolute top-full left-0 mt-1 w-64 bg-gray-800 border border-gray-600 rounded-sm shadow-lg z-10"
      (click)="$event.stopPropagation()"
    >
      <div class="py-1">
        @for (option of sortOptions; track option.option) {
          <button
            class="w-full px-4 py-2 text-left text-sm hover:bg-gray-700 transition-colors flex flex-row justify-between items-center"
            (click)="selectSort(option.option)"
          >
            <span>{{ option.label }}</span>
            @if (currentSort() === option.option) {
              <ng-icon name="phosphorCheck" class="text-green-400" />
            }
          </button>
        }
      </div>
    </div>
  }
</div>

<!-- Overlay para cerrar el menÃº -->
@if (isOpen) {
  <div 
    class="fixed inset-0 z-0" 
    (click)="closeMenu()"
  ></div>
}