<!-- movie-grid.html -->
<main>
  <div class="grid grid-cols-3 gap-4">
    <!-- Botón de búsqueda (siempre visible como primera tarjeta) -->
    <button 
      class="movie-card aspect-2/3 rounded-lg flex flex-col items-center justify-center"
      routerLink="/search"
    >
      <ng-icon name="phosphorPlus" class="text-2xl mb-2" />
    </button>
    
    <!-- Películas guardadas -->
    @for (movie of movies(); track movie.id) {
      <button 
        class="movie-card aspect-2/3 overflow-hidden rounded-lg cursor-pointer transition-transform hover:scale-105"
        (click)="goToMovieDetails(movie.id)"
      >
        @if (hasPoster(movie)) {
          <img 
            [src]="getPosterUrl(movie)" 
            [alt]="movie.title"
            class="w-full h-full object-cover"
          />
        } @else {
          <!-- Fallback cuando no hay poster -->
          <div class="w-full h-full bg-gray-800 flex flex-col items-center justify-center text-white p-2">
            <ng-icon name="phosphorFilmSlateFill" class="text-2xl mb-2" />
            <span class="text-xs text-center line-clamp-2">{{ movie.title }}</span>
          </div>
        }
      </button>
    }
  </div>
</main>